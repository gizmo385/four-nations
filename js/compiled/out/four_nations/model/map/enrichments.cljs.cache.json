["^ ","~:rename-macros",["^ "],"~:renames",["^ "],"~:use-macros",["^ "],"~:excludes",["~#set",[]],"~:name","~$four-nations.model.map.enrichments","~:imports",null,"~:requires",["^ ","~$biomes","~$four-nations.model.map.biomes","^:","^:","~$utils","~$four-nations.model.map.utils","^<","^<","~$res","~$four-nations.model.map.resources","^>","^>","~$four-nations.general.types","^?"],"~:cljs.spec/speced-vars",[],"~:uses",["^ ","~$->Dimension","^?"],"~:defs",["^ ","~$default-biomes",["^ ","^5","~$four-nations.model.map.enrichments/default-biomes","~:file","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","~:line",137,"~:column",1,"~:end-line",137,"~:end-column",20,"~:meta",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",137,"^H",6,"^I",137,"^J",20],"~:tag","~$cljs.core/LazySeq"],"~$water-should-spread-to-tile?",["^ ","~:protocol-inline",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",30,"^H",7,"^I",30,"^J",35,"~:arglists",["~#list",["~$quote",["^Q",[["~$tile","~$m","~$dimensions","~$spread-chance"]]]]],"~:doc","Determines if water should spread to a particular tile, based on the terrain types of the\n   neighbors and a random chance."],"^5","~$four-nations.model.map.enrichments/water-should-spread-to-tile?","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",35,"~:method-params",["^Q",[["^S","~$m","^T","^U"]]],"~:protocol-impl",null,"~:arglists-meta",["^Q",[null,null]],"^H",1,"~:variadic?",false,"^G",30,"~:ret-tag",["^4",["~$boolean","~$any"]],"^I",30,"~:max-fixed-arity",4,"~:fn-var",true,"^P",["^Q",["^R",["^Q",[["^S","~$m","^T","^U"]]]]],"^V","Determines if water should spread to a particular tile, based on the terrain types of the\n   neighbors and a random chance."],"~$average-map-value",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",11,"^H",7,"^I",11,"^J",24,"^P",["^Q",["^R",["^Q",[["~$noise"]]]]],"^V","Given a noise map, calculates the average value of all of the cells within that noise map."],"^5","~$four-nations.model.map.enrichments/average-map-value","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",24,"^X",["^Q",[["^16"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",11,"^10","~$number","^I",11,"^13",1,"^14",true,"^P",["^Q",["^R",["^Q",[["^16"]]]]],"^V","Given a noise map, calculates the average value of all of the cells within that noise map."],"~$default-enrichment-options",["^ ","^5","~$four-nations.model.map.enrichments/default-enrichment-options","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",179,"^H",1,"^I",179,"^J",32,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",179,"^H",6,"^I",179,"^J",32],"^L","~$cljs.core/IMap"],"~$spread-water",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",38,"^H",7,"^I",38,"^J",19,"^P",["^Q",["^R",["^Q",[["~$m","^T",["^ ","~:keys",["~$water-spread-chance"]]]]]]],"^V","Given a game map and spread chance, for every land tile within the game that is near water, the\n   spread chance determines how likely it is that the water will spread to that tile."],"^5","~$four-nations.model.map.enrichments/spread-water","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",19,"^X",["^Q",[["~$m","^T","~$p__39717"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",38,"^10",["^4",[null,"~$clj","^12"]],"^I",38,"^13",3,"^14",true,"^P",["^Q",["^R",["^Q",[["~$m","^T",["^ ","^1=",["^1>"]]]]]]],"^V","Given a game map and spread chance, for every land tile within the game that is near water, the\n   spread chance determines how likely it is that the water will spread to that tile."],"~$enrich-noise-map",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",186,"^H",7,"^I",186,"^J",23,"^P",["^Q",["^R",["^Q",[["^16","^T"],["^16","^T","~$options"]]]]],"^V","Given a generated and smoothed noisemap, generates a game map with additional attributes.","~:top-fn",["^ ","^[",false,"~:fixed-arity",3,"^13",3,"^X",[["^16","^T"],["^16","^T","^1C"]],"^P",["^Q",[["^16","^T"],["^16","^T","^1C"]]],"^Z",["^Q",[null,null]]]],"^5","~$four-nations.model.map.enrichments/enrich-noise-map","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",23,"^1D",["^ ","^[",false,"^1E",3,"^13",3,"^X",[["^16","^T"],["^16","^T","^1C"]],"^P",["^Q",[["^16","^T"],["^16","^T","^1C"]]],"^Z",["^Q",[null,null]]],"^X",[["^16","^T"],["^16","^T","^1C"]],"^Y",null,"^1E",3,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"~:methods",[["^ ","^1E",2,"^[",false,"^L","^12"],["^ ","^1E",3,"^[",false,"^L",["^4",[null,"^1A","^12"]]]],"^G",186,"^I",186,"^13",3,"^14",true,"^P",["^Q",[["^16","^T"],["^16","^T","^1C"]]],"^V","Given a generated and smoothed noisemap, generates a game map with additional attributes."],"~$maybe-add-resource-to-tile",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",103,"^H",7,"^I",103,"^J",33,"^P",["^Q",["^R",["^Q",[["^S",["^ ","^1=",["~$spawn-predicate"],"~:as","~$resource"]]]]]]],"^5","~$four-nations.model.map.enrichments/maybe-add-resource-to-tile","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",33,"^X",["^Q",[["^S","~$p__39729"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",103,"^10",["^4",[null,"^1A","^12"]],"^I",103,"^13",2,"^14",true,"^P",["^Q",["^R",["^Q",[["^S",["^ ","^1=",["^1I"],"^1J","^1K"]]]]]]],"~$add-coastline",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",75,"^H",7,"^I",75,"^J",20,"^P",["^Q",["^R",["^Q",[["~$m","^T"]]]]],"^V","Given a map, changes the terrain type of any land tiles that are near water to be coastline."],"^5","~$four-nations.model.map.enrichments/add-coastline","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",20,"^X",["^Q",[["~$m","^T"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",75,"^10",["^4",[null,"^1A","^12"]],"^I",75,"^13",2,"^14",true,"^P",["^Q",["^R",["^Q",[["~$m","^T"]]]]],"^V","Given a map, changes the terrain type of any land tiles that are near water to be coastline."],"~$should-be-coastline?",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",69,"^H",7,"^I",69,"^J",27,"^P",["^Q",["^R",["^Q",[["^S","~$m","^T"]]]]],"^V","Returns true if the specified tile should be coastline."],"^5","~$four-nations.model.map.enrichments/should-be-coastline?","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",27,"^X",["^Q",[["^S","~$m","^T"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",69,"^10",["^4",["^11","^12"]],"^I",69,"^13",3,"^14",true,"^P",["^Q",["^R",["^Q",[["^S","~$m","^T"]]]]],"^V","Returns true if the specified tile should be coastline."],"~$add-biomes",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",129,"^H",7,"^I",129,"^J",17,"^P",["^Q",["^R",["^Q",[["~$m","^T",["^ ","^1=",["^9","~$biome-count"]]]]]]],"^V","Adds biomes to the map through random subdivision."],"^5","~$four-nations.model.map.enrichments/add-biomes","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",17,"^X",["^Q",[["~$m","^T","~$p__39739"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",129,"^10",["^4",[null,"^1A","^12"]],"^I",129,"^13",3,"^14",true,"^P",["^Q",["^R",["^Q",[["~$m","^T",["^ ","^1=",["^9","^1S"]]]]]]],"^V","Adds biomes to the map through random subdivision."],"~$add-resources",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",110,"^H",7,"^I",110,"^J",20,"^P",["^Q",["^R",["^Q",[["~$m","^T",["^ ","^1=",["~$resources"]]]]]]],"^V","Given a map, its dimensions and available resources; adds resources to the map based on the\n   specified spawn predicates for those resources."],"^5","~$four-nations.model.map.enrichments/add-resources","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",20,"^X",["^Q",[["~$m","^T","~$p__39732"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",110,"^10",["^4",[null,"^1A","^12"]],"^I",110,"^13",3,"^14",true,"^P",["^Q",["^R",["^Q",[["~$m","^T",["^ ","^1=",["^1W"]]]]]]],"^V","Given a map, its dimensions and available resources; adds resources to the map based on the\n   specified spawn predicates for those resources."],"~$add-basic-terrain",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",120,"^H",7,"^I",120,"^J",24,"^P",["^Q",["^R",["^Q",[["^16","~$average-value"]]]]],"^V","Given the noise map and the average value of cells across the map, builds basic game map with\n   simple terrain selection."],"^5","~$four-nations.model.map.enrichments/add-basic-terrain","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",24,"^X",["^Q",[["^16","^1["]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",120,"^10","^M","^I",120,"^13",2,"^14",true,"^P",["^Q",["^R",["^Q",[["^16","^1["]]]]],"^V","Given the noise map and the average value of cells across the map, builds basic game map with\n   simple terrain selection."],"~$add-water-border",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",86,"^H",7,"^I",86,"^J",23,"^P",["^Q",["^R",["^Q",[["~$m","^T",["^ ","^1=",["~$water-border"]]]]]]],"^V","Adds a water border, where all tiles along the edge of the map become water, of a specified size\n   to the map."],"^5","~$four-nations.model.map.enrichments/add-water-border","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",23,"^X",["^Q",[["~$m","^T","~$p__39720"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",86,"^10","^M","^I",86,"^13",3,"^14",true,"^P",["^Q",["^R",["^Q",[["~$m","^T",["^ ","^1=",["^22"]]]]]]],"^V","Adds a water border, where all tiles along the edge of the map become water, of a specified size\n   to the map."],"~$tile-should-be-drenched?",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",50,"^H",7,"^I",50,"^J",31,"^P",["^Q",["^R",["^Q",[["^S","~$m","^T"]]]]],"^V","Given a tile, a map, and its dimensions, determines if that tile should be drenched with water,\n   which happens when a land tile is surrounded by water tiles."],"^5","~$four-nations.model.map.enrichments/tile-should-be-drenched?","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",31,"^X",["^Q",[["^S","~$m","^T"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",50,"^10",["^4",["^11","^12"]],"^I",50,"^13",3,"^14",true,"^P",["^Q",["^R",["^Q",[["^S","~$m","^T"]]]]],"^V","Given a tile, a map, and its dimensions, determines if that tile should be drenched with water,\n   which happens when a land tile is surrounded by water tiles."],"~$determine-cell-terrain-type",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",21,"^H",7,"^I",21,"^J",34,"^P",["^Q",["^R",["^Q",[["~$cell-value","^1["]]]]],"^V","Determines if a cell should be land, water, or mountain based on the cell value's relation to\n   the average value of the game map."],"^5","~$four-nations.model.map.enrichments/determine-cell-terrain-type","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",34,"^X",["^Q",[["^28","^1["]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",21,"^10","~$cljs.core/Keyword","^I",21,"^13",2,"^14",true,"^P",["^Q",["^R",["^Q",[["^28","^1["]]]]],"^V","Determines if a cell should be land, water, or mountain based on the cell value's relation to\n   the average value of the game map."],"~$drench-surrounded-land",["^ ","^O",null,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",57,"^H",7,"^I",57,"^J",29,"^P",["^Q",["^R",["^Q",[["~$m","^T"]]]]],"^V","Given a game map, finds any land tiles where all of its cardinal neighbors are water and sets\n   those tiles to also be water. This prevents tiny, nonsensical islands."],"^5","~$four-nations.model.map.enrichments/drench-surrounded-land","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^J",29,"^X",["^Q",[["~$m","^T"]]],"^Y",null,"^Z",["^Q",[null,null]],"^H",1,"^[",false,"^G",57,"^10",["^4",[null,"^1A","^12"]],"^I",57,"^13",2,"^14",true,"^P",["^Q",["^R",["^Q",[["~$m","^T"]]]]],"^V","Given a game map, finds any land tiles where all of its cardinal neighbors are water and sets\n   those tiles to also be water. This prevents tiny, nonsensical islands."],"~$default-resources",["^ ","^5","~$four-nations.model.map.enrichments/default-resources","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",149,"^H",1,"^I",149,"^J",23,"^K",["^ ","^F","/home/gizmo/workspace/four-nations/src/four_nations/model/map/enrichments.cljs","^G",149,"^H",6,"^I",149,"^J",23],"^L","^M"]],"~:cljs.spec/registry-ref",[],"~:require-macros",null,"~:cljs.analyzer/constants",["^ ","~:seen",["^4",["~:coast","~:y","~:oil-deposit","~:terrain-type","~:plains","~:water-border","~:spawn-predicate","~:symbol","^5","~:gold-vein","~:value","~:width","~:terrain-types","~:tundra","~:biome-count","~:desert","~:oak-tree","~:biomes","~:forest","~:spawning","~:resource","~:chance","~:land","~:water-spread-chance","~:display-name","~:image","~:x","~:water","~:resources","~:attributes","~:mountain","~:fir-tree","~:height"]],"~:order",["^2K","^2[","^2W","^2X","^31","^2E","^2C","^2G","^2L","^34","~:x","~:y","^2H","^2U","^30","^2R","^2O","^5","^2Y","^2F","^2S","^2P","^2N","^2I","^2T","^2Z","^2J","^2V","^2M","^32","^2Q","^33","^2D"]],"^V",null]